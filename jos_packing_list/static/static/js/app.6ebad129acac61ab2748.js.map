{"version":3,"sources":["webpack:///./src/js/mixins.js","webpack:///src/components/ReportDialog.vue","webpack:///./src/components/ReportDialog.vue?1fcc","webpack:///./src/components/ReportDialog.vue","webpack:///src/components/BillDialog.vue","webpack:///./src/components/BillDialog.vue?c19e","webpack:///./src/components/BillDialog.vue","webpack:///src/App.vue","webpack:///./src/App.vue?f42a","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["mixins","data","mounted","methods","getNewDay","dateTemp","days","split","nDate","Date","millSeconds","Math","abs","rDate","year","getFullYear","month","getMonth","date","getDate","sum","arr","eval","join","diglogTrigger","name","boolean","this","closeDialog","index","eventBus","$emit","tmpName","printPDF","url","token","$axios","method","responseType","params","Token","then","state","alert","errmsg","file","Blob","type","fileUrl","window","URL","createObjectURL","open","__webpack_exports__","ReportDialog","store_name","isFilter","isSearched","formdata","linesFormData","titles","width","date2","start_date","end_date","form_code","code","total","totalMain","totalSub","limit","disableBack","timeout","isLine","time","today","watch","handler","n","o","deep","toLines","start","_this","res","results","handleCurrentChange","val","mid_search","Number","_this2","result","back","toExcel","_this3","format","link","document","createElement","style","display","href","title","setAttribute","body","appendChild","click","components_ReportDialog","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_m","_v","aria-hidden","on","$event","plain","icon","size","staticStyle","padding","gutter","span","value-format","unlink-panels","range-separator","start-placeholder","end-placeholder","model","value","callback","$$v","expression","placeholder","circle","_l","row_data","_s","product_name","packing_quantity","th","dblclick","partner_name","box_count","box_id","created_at","created_user","executed_at","executed_user","background","layout","current-change","directives","rawName","submit","preventDefault","$set","round","staticRenderFns","src_components_ReportDialog","__webpack_require__","normalizeComponent","ssrContext","BillDialog","barcode","boldNumber","packing_list_lines","t_res","total_quantity","total_weight","total_packed","product_packed","rowspan","isExecuted","t_id","props","$on","status","formCode","showRow","c_goodsBtn","moveFocus","getElementById","focus","rest","proAmount","product_lines","length","i","quantity","getElementsByClassName","unpacked","getElementsByName","packed","Array","prototype","slice","call","quantityNum","getAttribute","empty","packedsum","j","push","outcome","x","innerHTML","parentNode","classList","remove","add","c_weighBtn","searchSKU","SKU","pro","$message","error","aBox","total_rest","saveBeforeAdd","len","lastBox","JSON","parse","stringify_default","weight","message","mBox","confirm","splice","isThisBox","c_saveBoxButton","c_saveButton","asyncToGenerator_default","regenerator_default","a","mark","_callee","len2","wrap","_context","prev","next","abrupt","console","timeEnd","put","stop","c_executeBtn","_this4","get","_this5","config","thisBox","lineId","_box","isAllow","_len","c_batchPrintBtn","_open","_this6","$nextTick","computed","_this7","box","packingQuantity","components_BillDialog","height","clearable","autofocus","nativeOn","keyup","_k","keyCode","key","trim","item","index1","class","til","border","product","index2","text-align","product_code","data-item","modifiers","number","min","step","domProps","input","target","composing","_n","blur","$forceUpdate","outline","_e","volume","colspan","disabled","src_components_BillDialog","BillDialog_normalizeComponent","App","components","bool","show_Filter","show_WorkspacefilterDialog","show_PartnerDialog","show_BillDialog","show_ReportDialog","container","short_no","list","readonly","nameStyle","datePicker","clear","c_scanBtn","onSave","$refs","c_boxCheckBtn","upDate","keyName","assign_default","short_no_search","Result","sent","selectortype_template_index_0_src_App","resize","inputItem","ref","src_App","App_normalizeComponent","vue_esm","productionTip","axios_default","use","element_ui_common_default","addEventListener","event","infoData","el","template","partner","store","getToken","interceptors","referrerUrl","referrer","indexOf","userInfo","user","set_of_book","user_name","headers","catch","err","log","request","$loading","text","spinner","promise_default","reject","response","close"],"mappings":"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","file":"static/js/app.6ebad129acac61ab2748.js","sourcesContent":["let mixins = {\n  data () {\n    return {\n    }\n  },\n  mounted () {},\n  methods: {\n    // 日期加上天数得到新的日期\n    // dateTemp 需要参加计算的日期，days要添加的天数，返回新的日期，日期格式：YYYY/MM/DD\n    getNewDay (dateTemp, days) {\n      var dateTemp = dateTemp.split('/')\n      var nDate = new Date(dateTemp[1] + '/' + dateTemp[2] + '/' + dateTemp[0]) // 转换为MM/DD/YYYY格式\n      var millSeconds = Math.abs(nDate) + (days * 24 * 60 * 60 * 1000)\n      var rDate = new Date(millSeconds)\n      var year = rDate.getFullYear()\n      var month = rDate.getMonth() + 1\n      if (month < 10) month = '0' + month\n      var date = rDate.getDate()\n      if (date < 10) date = '0' + date\n      return (year + '/' + month + '/' + date)\n    },\n    sum (arr) {\n      return eval(arr.join('+'))\n    },\n    diglogTrigger (name, boolean) {\n      this['show_' + name] = boolean\n    },\n    closeDialog () {\n      this.index = 0 // 关闭后再次打开是第一箱\n      eventBus.$emit('f-close-dialog', this.tmpName, false)\n    },\n    printPDF (url, token) {\n      this.$axios({\n        url: url,\n        method: 'POST',\n        responseType: 'arraybuffer',\n        params: {\n          Token: token\n        }\n      }).then(function (data) {\n        if (data.state == 0) {\n          return alert(data.errmsg)\n        }\n        let file = new Blob([data], { type: 'application/pdf' }) // 使用Blob将PDF Stream 转换为file\n        let fileUrl = window.URL.createObjectURL(file)\n        window.open(fileUrl)\n      })\n    }\n  }\n}\nexport default mixins\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/mixins.js","<template>\n  <div id=\"report_dialog\">\n    <div class=\"dialog_head\">\n      <div class=\"title\">\n        <span class=\"name\">装箱单查询</span>\n      </div>\n      <ul class=\"dialog_icons\">\n        <li>\n          <i class=\"fa fa-close\" aria-hidden=\"true\" @click=\"closeDialog()\"></i>\n        </li>\n      </ul>\n    </div>\n    <div class=\"buttons-wrap\">\n      <el-button-group>\n        <el-button plain icon=\"el-icon-arrow-left\" size=\"mini\" @click=\"back()\"></el-button>\n        <el-button plain size=\"mini\"><i class=\"el-icon-arrow-right el-icon--right\" @click=\"back()\"></i></el-button>\n      </el-button-group>\n      <el-button-group>\n        <el-button plain icon=\"el-icon-download\"  size=\"mini\" @click=\"toExcel()\"></el-button>\n        <el-button plain icon=\"el-icon-search\"  size=\"mini\" @click=\"isFilter = true\"></el-button>\n      </el-button-group>\n    </div>\n    <el-row :gutter=\"20\" style=\"padding: 0 5px;\">\n      <el-col :span=\"12\">\n        <el-date-picker\n          size=\"mini\"\n          v-model=\"date\"\n          value-format=\"yyyy/MM/dd\"\n          type=\"daterange\"\n          unlink-panels\n          range-separator=\"至\"\n          start-placeholder=\"开始日期\"\n          end-placeholder=\"结束日期\">\n        </el-date-picker>\n      </el-col>\n      <el-col :span=\"8\">\n        <el-input v-model=\"form_code\" placeholder=\"销售单单号\" size=\"mini\"></el-input>\n      </el-col>\n      <el-col :span=\"4\">\n        <el-button icon=\"el-icon-refresh\" @click=\"mid_search()\" size=\"mini\" circle type=\"primary\" plain></el-button>\n      </el-col>\n    </el-row>\n    <div class=\"mid-container\">\n      <table class=\"table\" v-if=\"!isLine\">\n        <thead>\n          <tr>\n            <th :width=\"th.width\" v-for=\"th in titles\">{{ th.name }}</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"row_data in formdata\"  @dblclick=\"toLines(row_data.code, 1, 1)\">\n\n            <td>{{ row_data.form_code }}</td>\n            <td>{{ row_data.code }}</td>\n            <td>{{ row_data.partner_name }}</td>\n            <td>{{ row_data.store_name }}</td>\n            <td>{{ row_data.box_count }}/{{ row_data.box_id }}</td>\n            <td>{{ row_data.created_at }}</td>\n            <td>{{ row_data.created_user }}</td>\n            <td>{{ row_data.executed_at }}</td>\n            <td>{{ row_data.executed_user }}</td>\n          </tr>\n        </tbody>\n      </table>\n      <table class=\"table line-table\" v-else>\n        <thead>\n        <tr>\n          <th>装箱单号</th>\n          <th>商品名称</th>\n          <th>装箱数量</th>\n        </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"row_data in linesFormData\">\n            <td>{{ row_data.code }}</td>\n            <td>{{ row_data.product_name }}</td>\n            <td>{{ row_data.packing_quantity }}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"footer-container\">\n      <div class=\"pagination\">\n        <el-pagination\n          background\n          @current-change=\"handleCurrentChange\"\n          layout=\"total, prev, pager, next\"\n          :total=\"total\">\n        </el-pagination>\n      </div>\n    </div>\n      <!-- 过滤对话框 -->\n  <div class=\"filter-container\" v-show=\"isFilter\">\n    <div class=\"filter\">\n      <div class=\"dialog_head\">\n        <div class=\"title\">\n          <span class=\"name\">过滤条件</span>\n        </div>\n        <ul class=\"dialog_icons\">\n          <li>\n            <i class=\"fa fa-close\" aria-hidden=\"true\" @click=\"isFilter = false\"></i>\n          </li>\n        </ul>\n      </div>\n      <div class=\"dialog_content\">\n        <form name=\"filterform\" id=\"filterform\" @submit.prevent=\"mid_search()\">\n          <div class=\"editor-label\">\n            <label>开始时间：</label>\n              <el-date-picker\n                v-model=\"date2.start_date\"\n                type=\"date\"\n                value-format=\"yyyy/MM/dd\"\n                placeholder=\"选择开始时间\">\n              </el-date-picker>\n          </div>\n          <div class=\"editor-label\">\n            <label>结束时间：</label>\n              <el-date-picker\n                v-model=\"date2.end_date\"\n                type=\"date\"\n                value-format=\"yyyy/MM/dd\"\n                placeholder=\"选择结束时间\">\n              </el-date-picker>\n          </div>\n          <div class=\"editor-label\">\n            <label>销售单号：</label>\n            <el-input v-model=\"form_code\"></el-input>\n          </div>\n          <div class=\"editor-label\">\n            <label>装箱单号：</label>\n            <el-input v-model=\"code\"></el-input>\n          </div>\n          <div class=\"btn-label\">\n            <el-button round  size=\"mini\" @click=\"mid_search()\">确定</el-button>\n            <el-button round  size=\"mini\" @click=\"isFilter = false\">取消</el-button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n    <!-- 过滤对话框  -  结束 -->\n  </div>\n</template>\n\n<script>\nimport mixin from '../js/mixins.js'\nexport default {\n  name: 'ReportDialog', // 装箱单报表\n  mixins: [mixin],\n  data () {\n    return {\n      tmpName: 'ReportDialog',\n      store_name: [],\n      isFilter: false,\n      isSearched: false,\n      formdata: [], // 表格\n      linesFormData: [], // 明细表格\n      titles: [\n        {\n          name: '出库单号',\n          width: '10%'\n        }, {\n          name: '装箱单号',\n          width: '10%'\n        }, {\n          name: '商业伙伴',\n          width: '10%'\n        }, {\n          name: '仓库',\n          width: '10%'\n        }, {\n          name: '箱数/箱号',\n          width: '10%'\n        }, {\n          name: '创建时间',\n          width: '10%'\n        }, {\n          name: '创建用户',\n          width: '10%'\n        }, {\n          name: '执行时间',\n          width: '10%'\n        }, {\n          name: '执行用户',\n          width: '10%'\n        }\n      ],\n      date: [],\n      date2: {\n        start_date: '',\n        end_date: ''\n      },\n      form_code: '', // 销售单单号\n      code: '', // 装箱单单号\n      total: '',\n      totalMain: '',\n      totalSub: '',\n      limit: 10,\n      disableBack: true,\n      timeout: null,\n      isLine: false // 帮助判断在哪一层\n    }\n  },\n  mounted () { // 设置默认时间 月初和当日\n    let time = []\n    var date = new Date()\n    var year = date.getFullYear()\n    var month = date.getMonth() + 1\n    var today = date.getDate()\n    time[0] = `${year}/${month}/1`\n    time[1] = `${year}/${month}/${today}`\n    this.date = time\n    this.date2.start_date = time[0]\n    this.date2.end_date = time[1]\n  },\n  watch: {\n    date: {\n      handler (n, o) { // 两处时间绑定\n        this.date2.start_date = n[0]\n        this.date2.end_date = n[1]\n      }\n    },\n    date2: {\n      handler (n, o) {\n        this.date = [n.start_date, n.end_date]\n      },\n      deep: true\n    }\n  },\n  methods: {\n    toLines (code, index, start) { // 页码和装箱单号\n      start = (start - 1) * this.limit || 0\n      if (start < 0) {\n        start = 0\n      }\n      let params = { // 过滤\n        start_date: this.date[0],\n        end_date: this.date[1] ? this.getNewDay(this.date[1], 1) : '',\n        form_code: this.form_code,\n        code: code || this.code,\n        start: start,\n        limit: this.limit\n      }\n      this.$axios({\n        url: `/api/packing_reports?action=packing_line`,\n        params: params\n      }).then(res => {\n        if (res.state === 1) {\n          this.disableBack = false\n          this.totalSub = res.total\n          this.total = res.total\n          this.linesFormData = res.results\n          this.isLine = true\n          this.code = res.code\n          return\n        }\n        return alert(res.errmsg)\n      })\n    },\n    handleCurrentChange (val) {\n      if (this.isLine) {\n        this.toLines(null, null, val)\n      }\n      this.mid_search(Number(val))\n    },\n    mid_search (start) {\n      this.isSearched = true\n      start = (start - 1) * this.limit || 0\n      let params = { // 过滤\n        start_date: this.date[0],\n        end_date: this.date[1] ? this.getNewDay(this.date[1], 1) : '',\n        form_code: this.form_code,\n        code: this.code || '',\n        start: start,\n        limit: this.limit\n      }\n      let url = ''\n      if (this.isLine) {\n        return this.toLines(this.code, 1, 0)\n      } else {\n        url = `/api/packing_reports?action=packing_list`\n      }\n      this.$axios({\n        url: url,\n        params: params\n      }).then(res => {\n        if (res.state === 1) {\n          this.totalMain = res.total // 主表数量\n          this.total = res.total\n          this.formdata = res.result\n          return\n        }\n        return alert(res.errmsg)\n      })\n      this.isFilter = false\n    },\n    back () { // 从明细返回主表\n      if (!this.disableBack) { this.isLine = !this.isLine }\n      if (!this.isLine) { // 如果是主表，左下角的数量充值未主表数量\n        this.total = this.totalMain\n      } else {\n        this.total = this.totalSub\n      }\n    },\n    toExcel () {\n      if (!this.isSearched) { return alert('请先进行查询') }\n      let url = ''\n      if (this.isLine) {\n        url = `/api/packing_reports?action=packing_line`\n      } else {\n        url = `/api/packing_reports?action=packing_list`\n      }\n      let params = { // 过滤\n        start_date: this.date[0] || '',\n        end_date: this.date[1] ? this.getNewDay(this.date[1], 1) : '',\n        code: this.code,\n        format: 'excel'\n      }\n      this.$axios({ // 下载Excel\n        url: url,\n        responseType: 'blob',\n        params: params\n      }).then(data => {\n        if (data.state === 0) {\n          return alert(data.errmsg)\n        }\n        let url = window.URL.createObjectURL(new Blob([data]))\n        let link = document.createElement('a')\n        link.style.display = 'none'\n        link.href = url\n        let title = ''\n        this.isLine ? title = '装箱单商品明细.xlsx' : title = '装箱单.xlsx'\n        link.setAttribute('download', title)\n        document.body.appendChild(link)\n        link.click()\n      })\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"../style/base.less\";\n  #report_dialog{\n    overflow: hidden;\n    box-shadow: 0 0 10px;\n    border-radius: 5px;\n    background: #fff;\n    width: 800px;\n    height: 500px;\n    position: absolute;\n    left: 50%;\n    margin-left: -400px;\n    top: 50%;\n    margin-top: -250px;\n    .dialog_head {\n      line-height: 33px;\n      padding: 0 10px;\n      .name {\n        padding-left: 10px;\n      }\n    }\n    .buttons-wrap{\n      padding: 5px 5px 3px 5px;\n    }\n    .mid-container{\n      padding: 5px;\n      text-align: center;\n      overflow-x: auto;\n      height: 330px;\n      .table{\n        width: 1200px;\n        border-collapse: collapse;\n        tr {\n          border: 1px solid #f1f1f1;\n          transition: all ease 0.3s;\n          &:hover {\n            border-bottom:1px solid #b6d3f7;\n          }\n        }\n        thead {\n          background-color: #f1f1f1;\n        }\n      }\n      .line-table {\n        width: 100%;\n      }\n    }\n    .footer-container{\n      .el-pagination {\n        margin-top: 5px;\n      }\n    }\n    .block{\n      display: inline-block;\n      width: 170px;\n    }\n  }\n  .editor-label input {\n    width: 175px;\n    height: 28px;\n    line-height: 28px;\n    position: relative;\n  }\n  .filter-container{\n  position: absolute;\n  width: 360px;\n  height: 300px;\n  left: 50%;\n  top: 50%;\n  margin-left: -180px;\n  margin-top: -150px;\n  box-shadow: 0 0 10px;\n  border-radius: 5px;\n  background: #fff;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ReportDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"report_dialog\"}},[_c('div',{staticClass:\"dialog_head\"},[_vm._m(0),_vm._v(\" \"),_c('ul',{staticClass:\"dialog_icons\"},[_c('li',[_c('i',{staticClass:\"fa fa-close\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.closeDialog()}}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"buttons-wrap\"},[_c('el-button-group',[_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-arrow-left\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.back()}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"size\":\"mini\"}},[_c('i',{staticClass:\"el-icon-arrow-right el-icon--right\",on:{\"click\":function($event){_vm.back()}}})])],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-download\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.toExcel()}}}),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"icon\":\"el-icon-search\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.isFilter = true}}})],1)],1),_vm._v(\" \"),_c('el-row',{staticStyle:{\"padding\":\"0 5px\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-date-picker',{attrs:{\"size\":\"mini\",\"value-format\":\"yyyy/MM/dd\",\"type\":\"daterange\",\"unlink-panels\":\"\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"销售单单号\",\"size\":\"mini\"},model:{value:(_vm.form_code),callback:function ($$v) {_vm.form_code=$$v},expression:\"form_code\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"size\":\"mini\",\"circle\":\"\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.mid_search()}}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"mid-container\"},[(!_vm.isLine)?_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',_vm._l((_vm.titles),function(th){return _c('th',{attrs:{\"width\":th.width}},[_vm._v(_vm._s(th.name))])}))]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.formdata),function(row_data){return _c('tr',{on:{\"dblclick\":function($event){_vm.toLines(row_data.code, 1, 1)}}},[_c('td',[_vm._v(_vm._s(row_data.form_code))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.code))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.partner_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.store_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.box_count)+\"/\"+_vm._s(row_data.box_id))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.created_at))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.created_user))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.executed_at))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.executed_user))])])}))]):_c('table',{staticClass:\"table line-table\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.linesFormData),function(row_data){return _c('tr',[_c('td',[_vm._v(_vm._s(row_data.code))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.product_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(row_data.packing_quantity))])])}))])]),_vm._v(\" \"),_c('div',{staticClass:\"footer-container\"},[_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"total, prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFilter),expression:\"isFilter\"}],staticClass:\"filter-container\"},[_c('div',{staticClass:\"filter\"},[_c('div',{staticClass:\"dialog_head\"},[_vm._m(2),_vm._v(\" \"),_c('ul',{staticClass:\"dialog_icons\"},[_c('li',[_c('i',{staticClass:\"fa fa-close\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.isFilter = false}}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog_content\"},[_c('form',{attrs:{\"name\":\"filterform\",\"id\":\"filterform\"},on:{\"submit\":function($event){$event.preventDefault();_vm.mid_search()}}},[_c('div',{staticClass:\"editor-label\"},[_c('label',[_vm._v(\"开始时间：\")]),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy/MM/dd\",\"placeholder\":\"选择开始时间\"},model:{value:(_vm.date2.start_date),callback:function ($$v) {_vm.$set(_vm.date2, \"start_date\", $$v)},expression:\"date2.start_date\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"editor-label\"},[_c('label',[_vm._v(\"结束时间：\")]),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"date\",\"value-format\":\"yyyy/MM/dd\",\"placeholder\":\"选择结束时间\"},model:{value:(_vm.date2.end_date),callback:function ($$v) {_vm.$set(_vm.date2, \"end_date\", $$v)},expression:\"date2.end_date\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"editor-label\"},[_c('label',[_vm._v(\"销售单号：\")]),_vm._v(\" \"),_c('el-input',{model:{value:(_vm.form_code),callback:function ($$v) {_vm.form_code=$$v},expression:\"form_code\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"editor-label\"},[_c('label',[_vm._v(\"装箱单号：\")]),_vm._v(\" \"),_c('el-input',{model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"btn-label\"},[_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.mid_search()}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.isFilter = false}}},[_vm._v(\"取消\")])],1)])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"装箱单查询\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"装箱单号\")]),_vm._v(\" \"),_c('th',[_vm._v(\"商品名称\")]),_vm._v(\" \"),_c('th',[_vm._v(\"装箱数量\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"过滤条件\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25a07b34\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ReportDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25a07b34\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ReportDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReportDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ReportDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25a07b34\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ReportDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25a07b34\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ReportDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"bill_dialog\" class=\"dialog bill_widget\">\n    <div class=\"dialog_head\">\n      <div class=\"title\">\n        <span class=\"name\">装箱单录入</span>\n      </div>\n      <ul class=\"dialog_icons\">\n        <li>\n          <i class=\"fa fa-close\" aria-hidden=\"true\" @click=\"closeDialog()\"></i>\n        </li>\n      </ul>\n    </div>\n    <div class=\"dialog_content\" style=\"height:400px\">\n      <div id=\"container\" class=\"barcodeContainer\">\n        <div id=\"closeMain\">\n          <div id=\"billContainer\">\n            <div class=\"tabwidget\">\n              <div class=\"editor-label\" style=\"width:400px;\">\n                <label>产品码：</label>\n                <el-input\n                  v-model.trim=\"barcode\"\n                  clearable @keyup.enter.native=\"searchSKU()\"\n                  id=\"SKU\"\n                  autofocus=\"isFocus\"\n                  @focus=\"barcode = ''\">\n                </el-input>\n                <i class=\"fa fa-search fa-lg search\" id=\"searchBarcode\" @click=\"searchSKU()\"></i>\n              </div>\n              <div class=\"editor-label status\">\n                <label>状态：</label>\n                <el-tag type=\"success\" v-if=\"res.status == 6\"><i class=\"el-icon-success\"></i>&nbsp;已完成</el-tag>\n                <el-tag type=\"danger\" v-else><i class=\"el-icon-warning\"></i>&nbsp;未完成</el-tag>\n              </div>\n              <div class=\"mid-container\">\n                <div class=\"left\">\n                  <div class=\"left-title\">装箱单序号</div>\n                  <ul>\n                    <li v-for=\"(item, index1) in packing_list_lines\" @click=\"showRow(index1)\" :class=\"index1 == index? 'active':''\">第{{ index1 + 1 }}箱</li>\n                  </ul>\n                  <div class=\"left-btn\">\n                    <div @click=\"aBox()\"><i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i> 新增</div>\n                    <div @click=\"mBox()\"><i class=\"fa fa-minus-square\" aria-hidden=\"true\"></i> 删除</div>\n                  </div>\n                </div>\n                <div class=\"right\">\n                  <table class=\"fake-head\">\n                    <thead>\n                      <tr>\n                        <th v-for=\"til in titles\" :style=\"til.style\">{{ til.name }}</th>\n                      </tr>\n                    </thead>\n                  </table>\n                  <table border=\"1\" v-for=\"(box, index) in packing_list_lines\" v-show=\"isThisBox(index)\">\n                    <thead>\n                      <tr style=\"height: 40px\">\n                        <th v-for=\"til in titles\" :style=\"til.style\">{{ til.name }}</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <!-- 这里的class name id 等大多是为了方便获取元素 -->\n                      <tr v-for=\"(product, index2) in box.product_lines\">\n                        <td style=\"text-align:left;\">【{{ product.barcode }}】：{{ product.name }}</td>\n                        <td style=\"text-align:left;\" :title=\"product.product_name\">{{ product.product_name }}</td>\n                        <td>{{ product.product_code }}</td>\n                        <td :class=\"['quantity' + index2, boldNumber]\" :data-item=\"product.quantity\">{{ product.quantity }}</td>\n                        <!-- 剩余数量 -->\n                        <td class =\"boldNumber\" :name=\"'unpacked' + index2\"></td>\n                        <td>\n                          <input type=\"number\"\n                                   :name=\"product.barcode\"\n                                   :class=\"['packed' + index2, boldNumber]\"\n                                   :data-item=\"product.packing_quantity\"\n                                   v-model.number=\"product.packing_quantity\"\n                                   min=\"0\"\n                                   step=\"1\"\n                                   @keyup.enter=\"moveFocus()\"\n                                   @focus=\"product.packing_quantity = ''\" />\n                        </td>\n                        <td v-if=\"index2 == 0\" :rowspan=\"rowspan\">\n                          <input class=\"weight boldNumber\" v-model=\"box.weight\" @focus=\"box.weight = ''\" style=\"border: none;outline:none;text-align:center;\">\n                        </td>\n                        <td v-if=\"index2 == 0\" :rowspan=\"rowspan\">\n                          <input class=\"weight boldNumber\" v-model=\"box.volume\" @focus=\"box.volume = ''\" :title=\"box.volume\" style=\"border: none;outline:none;text-align:center;width:100%\">\n                        </td>\n                      </tr>\n                      <tr style=\"height: 30px\">\n                        <td colspan=\"3\">合计</td>\n                        <td class=\"boldNumber\">{{ total_quantity }}</td>\n                        <td class=\"boldNumber\">{{ total_rest }}</td>\n                        <td class=\"boldNumber\">{{ total_packed }}</td>\n                        <td class=\"boldNumber\">{{ total_weight }}</td>\n                        <td class=\"boldNumber\">-</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n              <div class=\"table_btn\">\n                <el-button type=\"primary\" size=\"medium\" @click=\"c_weighBtn()\"  :disabled=\"isExecuted\">称重</el-button>\n                <el-button type=\"primary\" size=\"medium\" @click=\"c_saveBoxButton()\" :disabled=\"isExecuted\">保存本箱</el-button>\n                <el-button type=\"primary\" size=\"medium\" @click=\"c_executeBtn()\" :disabled=\"isExecuted\">执行</el-button>\n                <el-button type=\"primary\" size=\"medium\" @click=\"c_batchPrintBtn()\" :disabled=\"!isExecuted\">打印装箱单</el-button>\n                <el-button type=\"primary\" size=\"medium\" @click=\"c_goodsBtn()\" :disabled=\"!isExecuted\">打印箱标</el-button>\n                <el-button type=\"primary\" size=\"medium\" @click=\"c_saveButton()\" :disabled=\"isExecuted\">保存整单</el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mixin from '../js/mixins.js'\nexport default {\n  name: 'BillDialog', // 装箱单\n  mixins: [mixin],\n  data () {\n    return {\n      barcode: '',\n      boldNumber: 'boldNumber',\n      tmpName: 'BillDialog',\n      titles: [\n        {\n          name: '商品名及产品码',\n          style: 'width:20%;'\n        },\n        {\n          name: '京东商品名称',\n          style: 'width:25%;'\n        }, {\n          name: '京东商品编码',\n          style: 'width:8.3%'\n        }, {\n          name: '总数量',\n          style: 'width:8.3%'\n        }, {\n          name: '剩余数量',\n          style: 'width:8.3%'\n        }, {\n          name: '装箱数量',\n          style: 'width:8.3%'\n        }, {\n          name: '重量(kg)',\n          style: 'width:8.3%'\n        }, {\n          name: '体积',\n          style: 'width:13.3%'\n        }\n      ],\n      packing_list_lines: [],\n      t_res: [],\n      index: 0,\n      total_quantity: '',\n      total_weight: '',\n      total_packed: '',\n      product_packed: '', // 单个货品装箱数量\n      rowspan: '',\n      isExecuted: false,\n      t_id: ''\n    }\n  },\n  props: ['res', 'token'],\n  mounted () {\n    eventBus.$on('getSatus', (status, formCode) => {\n      if (status === 6) { // 执行完的不能点前三个按钮\n        this.isExecuted = true\n      } else {\n        this.isExecuted = false\n      }\n      this.res.form_code = formCode\n    })\n    this.showRow()\n  },\n  methods: {\n    c_goodsBtn () {\n      if (!this.isExecuted) {\n        return alert('请先执行再打印')\n      }\n      let id = this.res.id\n      let token = this.token\n      let url = `/api/packing_lists/${id}?action=print&form_name=tag`\n      this.printPDF(url, token)\n    },\n    moveFocus () {\n      document.getElementById('SKU').focus()\n    },\n    rest () {\n      let proAmount = this.packing_list_lines[0].product_lines.length\n      this.rowspan = proAmount\n      for (let i = 0; i < proAmount; i++) {\n        let quantity = document.getElementsByClassName('quantity' + i)[0]\n        let unpacked = document.getElementsByName('unpacked' + i)\n        let packed = Array.prototype.slice.call(document.getElementsByClassName('packed' + i))\n        let quantityNum = Number(quantity.getAttribute('data-item'))\n        let empty = []\n        let packedsum = 0\n        for (let j = 0; j < packed.length; j++) {\n          empty.push(Number(packed[j].value))\n          packedsum = this.sum(empty)\n        }\n        let outcome = quantityNum - packedsum\n        let arr = Array.prototype.slice.call(unpacked)\n        for (let x = 0; x < arr.length; x++) {\n          arr[x].innerHTML = outcome\n          if (outcome < 0) { // 在这里控制剩余数量不要在watch里监控\n            return alert('剩余数量不能小于0')\n          }\n\n          if (outcome === 0) {\n            arr[x].parentNode.classList.remove('whiteBgc')\n            arr[x].parentNode.classList.add('greenBgc')\n          } else {\n            arr[x].parentNode.classList.remove('greenBgc')\n            arr[x].parentNode.classList.add('whiteBgc')\n          }\n          this.packing_list_lines[x].product_lines[i].outcome = outcome\n        }\n      }\n    },\n    c_weighBtn () {\n      document.getElementsByClassName('weight')[this.index].focus()\n    },\n    searchSKU () {\n      let SKU = this.barcode\n      let pro = this.packing_list_lines[this.index].product_lines\n      for (let i = 0; i < pro.length; i++) { // 当前箱子\n        if (SKU == pro[i].barcode) {\n          return document.getElementsByName(SKU)[this.index].focus()\n        }\n      }\n      this.$message.error('未查询到产品码!')\n    },\n    aBox () { // 新增箱子\n      if (this.res.status === 6) {\n        this.$message({\n          type: 'warning',\n          message: '已执行的装箱单不能修改!'\n        })\n        return\n      }\n      if (this.total_rest === 0) {\n        this.$message({\n          type: 'warning',\n          message: '剩余数量已为0'\n        })\n        return\n      }\n      if (!this.saveBeforeAdd()) {\n        return alert('装箱数量全部为0，请检查')\n      }\n      let len = this.packing_list_lines.length\n      let lastBox = JSON.parse(JSON.stringify(this.packing_list_lines[len - 1]))\n      // 清空一些信息\n      for (let i = 0; i < lastBox.product_lines.length; i++) {\n        lastBox.product_lines[i].packing_quantity = 0\n        lastBox.product_lines[i].id = ''\n      }\n      lastBox.id = ''\n      lastBox.code = ''\n      lastBox.weight = 0\n\n      this.packing_list_lines.push(lastBox)\n      this.index = this.packing_list_lines.length - 1\n      this.moveFocus()\n    },\n    mBox () { // 删除第N个箱子\n      if (this.res.status === 6) {\n        this.$message({\n          type: 'warning',\n          message: '已执行的装箱单不能修改!'\n        })\n        return\n      }\n      if (!confirm(`确定要删除第${this.index + 1}箱？`)) return\n      if (!this.packing_list_lines[this.index].id) { // 没有保存的箱子可以直接删除\n        this.packing_list_lines.splice(this.index, 1)\n        this.showRow()\n        return\n      }\n      this.$axios({\n        url: `/api/packing_lists/${this.res.id}/packing_list_lines/${this.packing_list_lines[this.index].id}`,\n        method: 'DELETE'\n      }).then(res=> {\n        if (res.state === 1) {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n          this.packing_list_lines.splice(this.index, 1)\n          this.showRow()\n          return\n        }\n        return alert(res.errmsg)\n      })\n    },\n    isThisBox (index) {\n      if (index == this.index) { return true }\n    },\n    c_saveBoxButton () { // 保存本箱 就是点新增自动保存本箱的功能 现在再单独做一个按钮\n      this.saveBeforeAdd()\n    },\n    async c_saveButton () {\n      if (!confirm(`确定已经完成装箱，将保存整箱？`)) return\n      var id = this.res.id, data, empty\n      empty = this.packing_list_lines\n      console.time('packing_list_lines')\n      for (let i = 0, len = empty.length; i < len; i++) { // 返回给后端时 装箱的''要再改回0\n        for (let j = 0, len2 = empty[i].product_lines.length; j < len2; j++) {\n          empty[i].product_lines[j].packing_quantity = empty[i].product_lines[j].packing_quantity || 0\n        }\n      }\n      console.timeEnd('packing_list_lines')\n      data = {\n        packing_list_lines: empty\n      }\n      await this.$axios.put(`/api/packing_lists/${id}`, data).then(res => {\n        if (res.state === 1) {\n          this.$message({\n            type: 'success',\n            message: '此箱保存成功!'\n          })\n          return\n        }\n        return alert(res.errmsg)\n      })\n    },\n    c_executeBtn () {\n      let id = this.res.id\n      this.$axios.get(`/api/packing_lists/${id}?action=execute`).then(res => {\n        if (res.state === 1) {\n          this.$message({\n            type: 'success',\n            message: '执行成功!'\n          })\n          this.isExecuted = true\n          eventBus.$emit('changeisExecuted', this.isExecuted)\n          return\n        }\n        return alert(res.errmsg)\n      })\n    },\n    saveBeforeAdd () { // 新增时自动保存前一箱\n      let id = this.res.id\n      let config = {}\n      let thisBox = this.packing_list_lines[this.index]\n      let lineId = thisBox.id || ''\n      let _box = thisBox // 打包数量的''改为0 再传给后端\n      let isAllow = false\n      for (let i = 0, len = _box.product_lines.length; i < len; i++) {\n        _box.product_lines[i].packing_quantity = _box.product_lines[i].packing_quantity || 0\n        if (!_box.product_lines[i].packing_quantity) {\n          _box.product_lines[i].packing_quantity = 0\n        }else{\n          isAllow = true\n        }\n      }\n      if (!isAllow) return false\n      if (typeof lineId !== 'number') {\n        config = {\n          url: `/api/packing_lists/${id}/packing_list_lines`,\n          method: 'POST',\n          data: {\n            packing_list_lines: _box\n          }\n        }\n        return this.$axios(config).then(res=> {\n          if (res.state === 1) {\n            this.packing_list_lines[this.index].id = res.id\n            for (let j = 0, len = res.product_lines.length; j < len; j ++) {\n              this.packing_list_lines[this.index].product_lines[j].id = res.product_lines[j].id\n            }\n            this.$message({\n              type: 'success',\n              message: `保存成功!`\n            })\n            return\n          }\n          return alert(res.errmsg)\n        })\n      } else {\n        config = {\n          url: `/api/packing_lists/${id}/packing_list_lines/${lineId}`,\n          method: 'PUT',\n          data: {\n            packing_list_lines: _box\n          }\n        }\n        return this.$axios(config).then(res=> {\n          if (res.state === 1) {\n            this.$message({\n              type: 'success',\n              message: `保存成功!`\n            })\n            return\n          }\n          return alert(res.errmsg)\n        })\n      }\n    },\n    c_batchPrintBtn () { // 打印整个装箱单\n      if (this.isExecuted == false) return alert('请先执行')\n      let id = this.res.id\n      let token = this.token\n      let url = `/api/packing_lists/${id}?action=print&form_name=packing_list`\n      this.printPDF(url, token)\n    },\n    showRow (index) {\n      index = index || 0\n      this.index = index\n    },\n    _open (id) {\n      this.$axios({\n        url: `/api/packing_lists/${id}/packing_list_lines`\n      }).then(res => {\n        if (!res.state) return alert(res.errmsg)\n        this.t_res = res\n        this.total_quantity = res.total_quantity\n        this.packing_list_lines = res.packing_list_lines\n        this.$nextTick(() => {\n          this.rest()\n        })\n        this.moveFocus()\n      })\n    }\n  },\n  computed: {\n    total_rest () {\n      return this.total_quantity - this.total_packed\n    }\n  },\n  watch: {\n    packing_list_lines: { // 装箱单和重量变化时重新计算\n      handler (n, o) {\n        let sum = 0\n        let weight = 0\n        let box = this.packing_list_lines\n        for (let i = 0, len = box.length; i < len; i++) {\n          for (let j = 0, len2 = box[i].product_lines.length; j < len2; j++) {\n            let packingQuantity = box[i].product_lines[j].packing_quantity\n            sum += Number(packingQuantity)\n            box[i].product_lines[j].packing_quantity = packingQuantity || '' // 因为要求为0时不显示\n          }\n          weight += Number(box[i].weight)\n        }\n        this.total_packed = sum\n        this.total_weight = weight\n        this.$nextTick(() => {\n          this.rest()\n        })\n        return n\n      },\n      deep: true\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"../style/base.less\";\n.greenBgc {\n  background-color: #cafbf0;\n}\n.whiteBgc {\n  background-color: #fff;\n}\n.status {\n  float: right;\n  margin-right: 200px;\n}\n.mid-container {\n  height: 270px;\n  overflow: hidden;\n  .left {\n    border: 1px solid #c5c5c5;\n    text-align: center;\n    width: 15%;\n    float: left;\n    margin: 0 1%;\n    .left-btn {\n      cursor: pointer;\n      height: 30px;\n      overflow: hidden;\n      line-height: 30px;\n      & > div {\n        float: left;\n        width: 50%;\n        &:active {\n          line-height: 36px;\n        }\n      }\n    }\n    ul {\n      border: 1px solid #f1f1f1;\n      height: 180px;\n      overflow-y: auto;\n      li {\n        cursor: pointer;\n        border-bottom: 1px solid #f1f1f1;\n        transition: all ease 0.3s;\n        &:hover {\n          background-color:ivory;\n        }\n      }\n    }\n  }\n  .right {\n    float: right;\n    width: 83%;\n    height: 235px;\n    overflow-y: auto;\n    border-bottom: 1px solid #c5c5c5;\n    table {\n      text-align: center;\n      min-height: 235px;\n      border-collapse: collapse;\n      tbody tr {\n        height: 36px;\n        border: 1px solid #c5c5c5;\n        transition: all ease 0.3s;\n        &:hover {\n          color:dodgerblue;\n        }\n        input {\n          width: 60px;\n        }\n      }\n      thead {\n        background-color: #f1f1f1;\n      }\n    }\n    .fake-head{\n      position: absolute;\n      width: 798px;\n      thead{\n        tr{\n          height: 40px;\n        }\n      }\n    }\n  }\n}\n.boldNumber{\n  font-size: 20px;\n  font-weight: bold;\n  text-align: center;\n  &:hover{\n    color:dodgerblue;\n  }\n}\ntable{table-layout: fixed;}\ntd{word-break: break-all; word-wrap:break-word;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/BillDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dialog bill_widget\",attrs:{\"id\":\"bill_dialog\"}},[_c('div',{staticClass:\"dialog_head\"},[_vm._m(0),_vm._v(\" \"),_c('ul',{staticClass:\"dialog_icons\"},[_c('li',[_c('i',{staticClass:\"fa fa-close\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.closeDialog()}}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog_content\",staticStyle:{\"height\":\"400px\"}},[_c('div',{staticClass:\"barcodeContainer\",attrs:{\"id\":\"container\"}},[_c('div',{attrs:{\"id\":\"closeMain\"}},[_c('div',{attrs:{\"id\":\"billContainer\"}},[_c('div',{staticClass:\"tabwidget\"},[_c('div',{staticClass:\"editor-label\",staticStyle:{\"width\":\"400px\"}},[_c('label',[_vm._v(\"产品码：\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"clearable\":\"\",\"id\":\"SKU\",\"autofocus\":\"isFocus\"},on:{\"focus\":function($event){_vm.barcode = ''}},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.searchSKU()}},model:{value:(_vm.barcode),callback:function ($$v) {_vm.barcode=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"barcode\"}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-search fa-lg search\",attrs:{\"id\":\"searchBarcode\"},on:{\"click\":function($event){_vm.searchSKU()}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"editor-label status\"},[_c('label',[_vm._v(\"状态：\")]),_vm._v(\" \"),(_vm.res.status == 6)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_c('i',{staticClass:\"el-icon-success\"}),_vm._v(\" 已完成\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_c('i',{staticClass:\"el-icon-warning\"}),_vm._v(\" 未完成\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"mid-container\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"left-title\"},[_vm._v(\"装箱单序号\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.packing_list_lines),function(item,index1){return _c('li',{class:index1 == _vm.index? 'active':'',on:{\"click\":function($event){_vm.showRow(index1)}}},[_vm._v(\"第\"+_vm._s(index1 + 1)+\"箱\")])})),_vm._v(\" \"),_c('div',{staticClass:\"left-btn\"},[_c('div',{on:{\"click\":function($event){_vm.aBox()}}},[_c('i',{staticClass:\"fa fa-plus-square\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" 新增\")]),_vm._v(\" \"),_c('div',{on:{\"click\":function($event){_vm.mBox()}}},[_c('i',{staticClass:\"fa fa-minus-square\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" 删除\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('table',{staticClass:\"fake-head\"},[_c('thead',[_c('tr',_vm._l((_vm.titles),function(til){return _c('th',{style:(til.style)},[_vm._v(_vm._s(til.name))])}))])]),_vm._v(\" \"),_vm._l((_vm.packing_list_lines),function(box,index){return _c('table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isThisBox(index)),expression:\"isThisBox(index)\"}],attrs:{\"border\":\"1\"}},[_c('thead',[_c('tr',{staticStyle:{\"height\":\"40px\"}},_vm._l((_vm.titles),function(til){return _c('th',{style:(til.style)},[_vm._v(_vm._s(til.name))])}))]),_vm._v(\" \"),_c('tbody',[_vm._l((box.product_lines),function(product,index2){return _c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"【\"+_vm._s(product.barcode)+\"】：\"+_vm._s(product.name))]),_vm._v(\" \"),_c('td',{staticStyle:{\"text-align\":\"left\"},attrs:{\"title\":product.product_name}},[_vm._v(_vm._s(product.product_name))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(product.product_code))]),_vm._v(\" \"),_c('td',{class:['quantity' + index2, _vm.boldNumber],attrs:{\"data-item\":product.quantity}},[_vm._v(_vm._s(product.quantity))]),_vm._v(\" \"),_c('td',{staticClass:\"boldNumber\",attrs:{\"name\":'unpacked' + index2}}),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(product.packing_quantity),expression:\"product.packing_quantity\",modifiers:{\"number\":true}}],class:['packed' + index2, _vm.boldNumber],attrs:{\"type\":\"number\",\"name\":product.barcode,\"data-item\":product.packing_quantity,\"min\":\"0\",\"step\":\"1\"},domProps:{\"value\":(product.packing_quantity)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.moveFocus()},\"focus\":function($event){product.packing_quantity = ''},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(product, \"packing_quantity\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),(index2 == 0)?_c('td',{attrs:{\"rowspan\":_vm.rowspan}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(box.weight),expression:\"box.weight\"}],staticClass:\"weight boldNumber\",staticStyle:{\"border\":\"none\",\"outline\":\"none\",\"text-align\":\"center\"},domProps:{\"value\":(box.weight)},on:{\"focus\":function($event){box.weight = ''},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(box, \"weight\", $event.target.value)}}})]):_vm._e(),_vm._v(\" \"),(index2 == 0)?_c('td',{attrs:{\"rowspan\":_vm.rowspan}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(box.volume),expression:\"box.volume\"}],staticClass:\"weight boldNumber\",staticStyle:{\"border\":\"none\",\"outline\":\"none\",\"text-align\":\"center\",\"width\":\"100%\"},attrs:{\"title\":box.volume},domProps:{\"value\":(box.volume)},on:{\"focus\":function($event){box.volume = ''},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(box, \"volume\", $event.target.value)}}})]):_vm._e()])}),_vm._v(\" \"),_c('tr',{staticStyle:{\"height\":\"30px\"}},[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\"合计\")]),_vm._v(\" \"),_c('td',{staticClass:\"boldNumber\"},[_vm._v(_vm._s(_vm.total_quantity))]),_vm._v(\" \"),_c('td',{staticClass:\"boldNumber\"},[_vm._v(_vm._s(_vm.total_rest))]),_vm._v(\" \"),_c('td',{staticClass:\"boldNumber\"},[_vm._v(_vm._s(_vm.total_packed))]),_vm._v(\" \"),_c('td',{staticClass:\"boldNumber\"},[_vm._v(_vm._s(_vm.total_weight))]),_vm._v(\" \"),_c('td',{staticClass:\"boldNumber\"},[_vm._v(\"-\")])])],2)])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"table_btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":_vm.isExecuted},on:{\"click\":function($event){_vm.c_weighBtn()}}},[_vm._v(\"称重\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":_vm.isExecuted},on:{\"click\":function($event){_vm.c_saveBoxButton()}}},[_vm._v(\"保存本箱\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":_vm.isExecuted},on:{\"click\":function($event){_vm.c_executeBtn()}}},[_vm._v(\"执行\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":!_vm.isExecuted},on:{\"click\":function($event){_vm.c_batchPrintBtn()}}},[_vm._v(\"打印装箱单\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":!_vm.isExecuted},on:{\"click\":function($event){_vm.c_goodsBtn()}}},[_vm._v(\"打印箱标\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\",\"disabled\":_vm.isExecuted},on:{\"click\":function($event){_vm.c_saveButton()}}},[_vm._v(\"保存整单\")])],1)])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"name\"},[_vm._v(\"装箱单录入\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21f4f94b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/BillDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21f4f94b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BillDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BillDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BillDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21f4f94b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BillDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-21f4f94b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BillDialog.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <div class=\"input-code editor-label\">\n      <label style=\"width: auto;\">短单号：</label>\n      <el-input style=\"width: 52%\" v-model.trim=\"short_no\" autofocus resize @focus=\"short_no = ''\" @keyup.enter.native=\"short_no_search()\"></el-input>\n      <i class=\"fa fa-search fa-lg\" aria-hidden=\"true\" @click=\"short_no_search()\" ></i>\n    </div>\n    <div id=\"tab1\">\n      <el-button plain  type=\"primary\" @click=\"c_scanBtn()\">装箱及打印</el-button>\n      <el-button plain  type=\"primary\" @click=\"c_boxCheckBtn()\">装箱单查询</el-button>\n    </div>\n    <div class=\"order-form\">\n      <form class=\"border_radius clearfix billform\" id=\"mainTable\">\n        <div class=\"editor-label\" v-for=\"inputItem in list\">\n          <label :style=\"inputItem.nameStyle\">{{ inputItem.name }}：</label>\n          <el-date-picker\n            v-if=\"inputItem.datePicker\"\n            v-model=\"inputItem.value\"\n            :style=\"inputItem.style\"\n            type=\"date\"\n            value-format=\"yyyy/MM/dd\"\n            placeholder=\"选择日期\">\n          </el-date-picker>\n          <el-input\n            v-else\n            v-model.trim=\"inputItem.value\"\n            :class=\"inputItem.class\"\n            :readonly=\"inputItem.readonly\">\n          </el-input>\n        </div>\n        <div class=\"form-btn\">\n          <el-button type=\"primary\" size=\"medium\" @click.prevent=\"onSave()\">保存</el-button>\n        </div>\n      </form>\n    </div>\n    <ReportDialog v-if=\"show_ReportDialog\" /> <!-- 装箱单查询与其他组件没有通信 用if方便关闭实现清空数据 -->\n    <BillDialog v-show=\"show_BillDialog\" :res=\"res\" :token=\"token\" ref=\"BillDialog\" />\n  </div>\n</template>\n\n<script>\nimport ReportDialog from './components/ReportDialog'\nimport BillDialog from './components/BillDialog'\nimport mixin from './js/mixins.js'\n\nexport default {\n  name: 'App',\n  mixins: [mixin],\n  components: {\n    ReportDialog, // 装箱单报表\n    BillDialog // 装箱及打印\n  },\n  props: ['token'],\n  mounted () {\n    eventBus.$on('changeisExecuted', bool => {\n      if (bool == true) {\n        this.res.status = 6\n      }\n    })\n    eventBus.$on('f-close-dialog', (name, boolean) => {\n      this.diglogTrigger(name, boolean)\n    })\n    eventBus.$on('openFilter', data => {\n      this.show_Filter = data\n    })\n  },\n  data () {\n    return {\n      show_WorkspacefilterDialog: false,\n      show_PartnerDialog: false,\n      show_BillDialog: false,\n      show_ReportDialog: false,\n      show_Filter: false,\n      isSearched: false,\n      res: {},\n      container: [],\n      short_no: '',\n      list: [\n        {\n          name: '单号',\n          key: 'form_code',\n          value: '',\n          readonly: true\n        },\n        {\n          name: '仓库',\n          key: 'store_name',\n          value: '',\n          readonly: true\n        },\n        {\n          name: '商业伙伴',\n          key: 'partner_name',\n          value: '',\n          readonly: true\n        },\n        {\n          name: '联系人',\n          key: 'contactor',\n          value: ''\n        },\n        {\n          name: '联系电话',\n          key: 'phone',\n          value: ''\n        },\n        {\n          name: '手机号',\n          key: 'mobile_phone',\n          value: ''\n        },\n        {\n          name: '数量',\n          key: 'total_quantity',\n          value: '',\n          readonly: true\n        },\n        {\n          name: '京东订单单号',\n          key: 'order_id',\n          value: '',\n          readonly: true\n        },\n        {\n          name: 'TC预约号',\n          key: 'tc_code',\n          value: '',\n          nameStyle: 'font-weight: bold;'\n        },\n        {\n          name: 'TC预约送货日期',\n          key: 'tc_date',\n          value: '',\n          style: 'display: inline;',\n          nameStyle: 'font-weight: bold;',\n          datePicker: true\n        },\n        {\n          name: '目的城市',\n          key: 'des',\n          value: '',\n          readonly: true\n        },\n        {\n          name: '目的仓库',\n          key: 'store',\n          value: '',\n          readonly: true\n        },\n        {\n          name: '省',\n          key: 'province',\n          value: ''\n        },\n        {\n          name: '市',\n          key: 'city',\n          value: ''\n        },\n        {\n          name: '区',\n          key: 'district',\n          value: ''\n        },\n        {\n          name: '街道',\n          key: 'town',\n          value: ''\n        },\n        {\n          name: '详细地址',\n          key: 'shipping_address',\n          value: '',\n          class: 'shipping_address'\n        },\n        {\n          name: '备注',\n          key: 'memo',\n          value: '',\n          class: 'memo'\n        }\n      ],\n      id: ''\n    }\n  },\n  methods: {\n    clear () {\n      this.short_no = ''\n    },\n    c_scanBtn () {\n      if (this.short_no == '') return alert('请输入短单号查询')\n      if (this.res.status !== 6) {\n        this.onSave()\n      } else {\n        this.$refs.BillDialog._open(this.res.id)\n      }\n      this.diglogTrigger('BillDialog', true)\n    },\n    c_boxCheckBtn () {\n      // 装箱单报表\n      this.diglogTrigger('ReportDialog', true)\n    },\n    upDate (res) {\n      if (res.state === 1) {\n        this.res = res\n        this.container = this.list\n        for (let i = 0, len = this.container.length; i < len; i++) {\n          for (var keyName in res) {\n            if (this.container[i].key == keyName) { this.container[i]['value'] = res[keyName] }\n          }\n        }\n\n        this.list = this.container\n        this.container = []\n      } else alert(res.errmsg)\n    },\n    onSave () {\n      let data = {}\n      let config = {}\n      for (let i = 0, len = this.list.length; i < len; i++) {\n        let keyName = this.list[i].key\n        data[keyName] = this.list[i].value\n      }\n      data = Object.assign({}, this.res, data) // 更新res\n      if (this.res.id != null) {\n        config = {\n          url: `/api/packing_lists/${this.res.id}`,\n          method: 'PUT',\n          data: data\n        }\n      } else {\n        config = {\n          url: `/api/packing_lists`,\n          method: 'POST',\n          data: data\n        }\n      }\n      this.$axios(config).then(res => {\n        if (res.state === 1) {\n          this.upDate(res)\n          this.res = res\n          this.$refs.BillDialog._open(res.id)\n          this.$message({\n            type: 'success',\n            message: '保存成功!'\n          })\n        } else {\n          return alert(res.errmsg)\n        }\n      })\n    },\n    async short_no_search () {\n      if (!this.short_no) {\n        return alert('请输入短单号')\n      } else {\n        const Result = await this.$axios({\n          url: '/api/packing_lists',\n          params: {\n            short_no: this.short_no\n          }\n        })\n        if (!Result.state) {\n          alert(Result.errmsg)\n          return\n        } else {\n          this.isSearched = true\n          this.upDate(Result)\n          eventBus.$emit('getSatus', Result.status, Result.form_code)\n        }\n        await this.c_scanBtn() // 搜索正常的单子自动打开装箱单录入弹窗\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import \"./style/base.less\"; // 通用样式\n#app {\n  font-family: \"Microsoft YaHei\", \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  .order-form{\n    background-color: floralwhite;\n  }\n}\n.editor-label .el-input{\n  width: 60%;\n}\n#mainTable {\n  .editor-label:nth-of-type(17), .editor-label:nth-of-type(18) {\n    width: 660px;\n  }\n  .shipping_address, .memo{\n    width: 491px;\n    input{\n      width: 100%;\n    }\n  }\n}\n.editor-label>div{\n  display: inline;\n}\n.order-form .editor-label label {\n  width: 117px;\n}\n.order-form .el-input__icon {\n  line-height: normal;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"input-code editor-label\"},[_c('label',{staticStyle:{\"width\":\"auto\"}},[_vm._v(\"短单号：\")]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"52%\"},attrs:{\"autofocus\":\"\",\"resize\":\"\"},on:{\"focus\":function($event){_vm.short_no = ''}},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.short_no_search()}},model:{value:(_vm.short_no),callback:function ($$v) {_vm.short_no=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"short_no\"}}),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-search fa-lg\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){_vm.short_no_search()}}})],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"tab1\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.c_scanBtn()}}},[_vm._v(\"装箱及打印\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.c_boxCheckBtn()}}},[_vm._v(\"装箱单查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"order-form\"},[_c('form',{staticClass:\"border_radius clearfix billform\",attrs:{\"id\":\"mainTable\"}},[_vm._l((_vm.list),function(inputItem){return _c('div',{staticClass:\"editor-label\"},[_c('label',{style:(inputItem.nameStyle)},[_vm._v(_vm._s(inputItem.name)+\"：\")]),_vm._v(\" \"),(inputItem.datePicker)?_c('el-date-picker',{style:(inputItem.style),attrs:{\"type\":\"date\",\"value-format\":\"yyyy/MM/dd\",\"placeholder\":\"选择日期\"},model:{value:(inputItem.value),callback:function ($$v) {_vm.$set(inputItem, \"value\", $$v)},expression:\"inputItem.value\"}}):_c('el-input',{class:inputItem.class,attrs:{\"readonly\":inputItem.readonly},model:{value:(inputItem.value),callback:function ($$v) {_vm.$set(inputItem, \"value\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"inputItem.value\"}})],1)}),_vm._v(\" \"),_c('div',{staticClass:\"form-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){$event.preventDefault();_vm.onSave()}}},[_vm._v(\"保存\")])],1)],2)]),_vm._v(\" \"),(_vm.show_ReportDialog)?_c('ReportDialog'):_vm._e(),_vm._v(\" \"),_c('BillDialog',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_BillDialog),expression:\"show_BillDialog\"}],ref:\"BillDialog\",attrs:{\"res\":_vm.res,\"token\":_vm.token}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-38c97212\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-38c97212\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-38c97212\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport 'font-awesome/less/font-awesome.less'\nimport Vue from 'vue'\nimport App from './App'\nimport axios from 'axios'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport mixin from './js/mixins'\n\nVue.config.productionTip = false\nVue.prototype.$axios = axios\nVue.use(ElementUI)\n/* eslint-disable no-new */\nfunction ready (infoData) {\n  window.eventBus = new Vue()\n  var vm = new Vue({\n    el: '#app',\n    components: {\n      App\n    },\n    mixins: [mixin],\n    template: '<App :token=\"token\"/>',\n    data: {\n      token: '',\n      partner: '',\n      store: ''\n    },\n    mounted () {\n      this.getToken()\n      this.interceptors()\n    },\n    methods: {\n      getToken () {\n        let referrerUrl = document.referrer\n        let url = referrerUrl.slice(0, referrerUrl.indexOf('/static'))\n        let userInfo = infoData.user\n        this.$axios({\n          url: '/api/access_token',\n          params: {\n            url: url,\n            set_of_book: userInfo.set_of_book,\n            user_name: userInfo.name\n          },\n          headers: {\n            'Token': userInfo.token\n          }\n        }).then(res => {\n          if (res.data.state === 1) {\n            this.token = res.data.token\n          }\n          else alert(res.data.errmsg)\n        }).catch(err => {\n          console.log(err)\n        })\n      },\n      interceptors () {\n        this.$axios.interceptors.request.use(config => {\n          config.headers['Token'] = this.token\n          this.$loading({\n            text: '加载中...',\n            spinner: 'el-icon-loading',\n            background: 'rgba(255, 255, 255, 0.9)'\n          });\n          return config\n        }, error => {\n          return Promise.reject(error)\n        })\n        this.$axios.interceptors.response.use(response => {\n          this.$loading({\n            text: '加载中...',\n            background: 'rgba(255, 255, 255, 0.9)'\n          }).close();\n          return response.data\n        }, error => {\n          return Promise.reject(error.response)\n        })\n      }\n    }\n  })\n}\n\n// event 参数中有 data 属性，就是父窗口发送过来的数据\nwindow.addEventListener('message', function (event) {\n  ready(JSON.parse(event.data))\n}, false)\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}